<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE struts PUBLIC
"-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
"http://struts.apache.org/dtds/struts-2.0.dtd">
<struts>
	<package name="Courses" namespace="/courses" extends="default-web">
		<action name="" class="springCourseAction" method="listAllCourse">
			<result name="success">AllCourse</result>
		</action>
		
		<action name="new" class="springCourseAction" method="newCoursePage">
		    <result name="success">Course.Add</result>
		</action>
		
		<action name="create" class="springCourseAction" method="newCourse">
			<result name="success" type="redirect">/courses/</result>
		</action>
		
		<action name="detail*" class="springCourseAction" method="showCourse">
			<param name="course.id">{1}</param>
			<result name="success">Course.Info</result>
		</action>
		<action name="delete*" class="springCourseAction" method="destroyCourse">
			<param name="course.id">{1}</param>
			<result name="success">AllCourse</result>
			<result name="error">Course.Info</result>
		</action>
		
		<action name="update" class="springCourseAction" method="updateCourse" >
		    <result name="success">AllCourse</result>
		    <result name="input">Course.Update</result>
		    <result name="error">Course.Update</result>
		</action>
		
		<action name="edit*" class="springCourseAction" method="editCoursePage">
			<param name="course.id">{1}</param>
		    <result>Course.Update</result>
		</action>
		<action name="add_subject" class="springCourseAction" method="addSubjectCourse">
		    <result name="success" type="redirect">
		    	<param name="location">/courses/edit${subjectCourse.course_id}</param>
		    </result>
		</action>
		
		<action name="remove_subject" class="springCourseAction" method="removeSubjectCourse">
			<param name="subjectCourse.subject_id">{1}</param>
			<param name="subjectCourse.course_id">{2}</param>
		    <result name="success" type="redirect">
		    	<param name="location">/courses/edit${subjectCourse.course_id}</param>
		    </result>
		</action>
		<action name="add_user" class="springCourseAction" method="addUserCourse" >
			<result name="success" type="redirect">
		    	<param name="location">/courses/detail${takeCourse.course_id}</param>
		    </result>
		</action>
		<action name="remove_user" class="springCourseAction" method="removeUserCourse">
			<param name="takeCourse.user_id">{1}</param>
			<param name="takeCourse.course_id">{2}</param>
		    <result name="success" type="redirect">
		    	<param name="location">/courses/detail${takeCourse.course_id}</param>
		    </result>
		</action>
	</package>
</struts>